<h1>Budget</h1>
<!--for {{user.name.givenName}}-->
<form name="add_form" ng-submit="addItem()" class="form-horizontal" role="form">

  <div class="form-group">
    <label class="col-lg-2 control-label sr-only" for="label">Label</label>
    <div class="col-lg-10">
      <input ng-model="label" type="text" class="form-control" id="label" placeholder="Enter label" required>
    </div>
  </div>

  <div class="form-group">
    <label class="col-lg-2 control-label sr-only" for="amount">Amount</label>
    <div class="col-lg-10">
      <input ng-model="amount" type="number" class="form-control" id="amount" placeholder="Amount" required>
    </div>
  </div>

  <div class="form-group">
    <label class="col-lg-2 control-label sr-only" for="type">Type</label>
    <div class="col-lg-10">
      <select ng-model="type" class="form-control" id="type" required>
        <option value="o" class="amount outcome option" selected>Outcome: One time</option>
        <option value="O" class="amount outcome option">Outcome: Reccurent</option>
        <option value="OC" class="amount outcome option">Outcome: Budget</option>
        <option value="i" class="amount income option">Income: One time</option>
        <option value="I" class="amount income option">Income: Reccurent</option>
        <option value="IC" class="amount income option">Income: Budget</option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label class="col-lg-2 control-label sr-only" for="datepicker">Date</label>
    <div class="input-append date" data-date-format="dd-mm-yy" ng-pattern="/^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/(199\d|[2-9]\d{3})$/" required>
      <input  ng-model="date" class="span2" id="datepicker" size="16" type="text" placeholder="Date"/>
      <span class="add-on"><i class="icon-calendar"></i></span>
    </div>

    <div class="col-lg-offset-2">
      <button type="submit" class="btn btn-primary btn-disabled">Add</button>
    </div>
  </div>
</form>

<div class="table-responsive">
  <table>
    <thead><th>Income</th><th>Outcome</th></thead>
    <tr style="vertical-align: top">
      <td>
        <table class="table table-striped">
          <tr ng-repeat="item in lines | filter:{type:'I'}"><td>{{item.date | date:'dd-MMM-yy'}}</td><td>{{item.label}}</td><td class="amount income">{{item.amount}}</td></tr>
        </table>
      </td>
      <td>
        <table class="table table-striped">
          <tr ng-repeat="item in lines | filter:{type:'O'}"><td class="amount outcome">{{item.amount}}</td><td>{{item.label}}</td><td>{{item.date | date:'dd-MMM-yy'}}</td></tr>
        </table>
      </td>
    </tr>
    <tr>
    <td>
      <table class="table table-striped">
        <tr><td>&nbsp;</td><td>Total</td><td class="amount income total">{{incomeTotal}}</td></tr>
      </table>
    </td>
    <td>
      <table class="table table-striped">
        <tr><td class="amount outcome total">{{outcomeTotal}}</td><td>Total</td><td>&nbsp;</td></tr>
      </table>
    </td>
    </tr>
  </table>
</div>
<h1>Timeline</h1>
<div class="table-responsive">
  <table class="table table-striped">
    <thead><th>Date</th><th>Label</th><th>Amount</th></thead>
    <tr ng-repeat="item in lines | orderBy:date">
      <td>{{item.date | date:'dd-MMM-yy'}} ({{item.date | dateDelta}})</td>
      <td>{{item.label}} ({{item.type}})</td>
      <td class="{{item.type | typeClass}}">{{item.amount}}</td>
    </tr>
  </table>
</div>

<script>
//$('#datepicker').datepicker({dateFormat:'dd-mm-yy'});
</script>
